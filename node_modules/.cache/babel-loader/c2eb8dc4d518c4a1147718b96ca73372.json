{"ast":null,"code":"var _jsxFileName = \"/Users/jenniferbouhid/Desktop/bank/src/components/SignIn.jsx\",\n    _s = $RefreshSig$();\n\nimport { useSelector } from \"react-redux\";\nimport { store, setToken } from \"../redux/store\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function SignIn() {\n  _s();\n\n  const userConnected = useSelector(state => state.connected);\n  const token = useSelector(state => state.token);\n  const state = useSelector(state => state);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const url = \"http://localhost:3001/api/v1/user/login\"; // Send POST request:\n\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: event.target.username.value,\n        password: event.target.password.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json().then(function (value) {\n        store.dispatch(setToken(value.body.token));\n        store.dispatch(setToken(value.body.token));\n        console.log(store.getState());\n      }).catch(function (err) {\n        console.log(err);\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: token ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/user\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main bg-dark\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"sign-in-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-user-circle sign-in-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"username\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"username\",\n              id: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              name: \"password\",\n              id: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-remember\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"remember-me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"remember-me\",\n              children: \"Remember me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 63\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"sign-in-button\",\n            value: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignIn, \"GzB5bQHjauSGF4Wdofun6GFaRWw=\", false, function () {\n  return [useSelector, useSelector, useSelector];\n});\n\n_c = SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["useSelector","store","setToken","Navigate","SignIn","userConnected","state","connected","token","handleSubmit","event","preventDefault","url","fetch","method","body","JSON","stringify","email","target","username","value","password","headers","then","res","json","dispatch","console","log","getState","catch","err"],"sources":["/Users/jenniferbouhid/Desktop/bank/src/components/SignIn.jsx"],"sourcesContent":["import { useSelector } from \"react-redux\";\nimport { store, setToken} from \"../redux/store\";\nimport { Navigate } from \"react-router-dom\";\n\nexport function SignIn() {\n\n  const userConnected = useSelector((state) => state.connected);\n  const token = useSelector((state) => state.token);\n  const state = useSelector((state) => state);\n\n\n  const handleSubmit = (event) =>{\n    event.preventDefault();\n    \n    const url = \"http://localhost:3001/api/v1/user/login\";\n\n   \n    // Send POST request:\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: event.target.username.value,\n        password: event.target.password.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n\n    })\n      .then(function(res) {\n        return res.json()\n        .then(function(value) {\n          store.dispatch(setToken(value.body.token));\n          store.dispatch(setToken(value.body.token));\n          console.log(store.getState())\n        })\n        .catch(function(err) {\n          console.log(err)\n        });\n      })\n  }\n\n  return (\n    <div>\n      {token ? (\n        <div>\n          <Navigate to=\"/user\" replace={true}/>\n        </div>\n      ) : (\n        <main className=\"main bg-dark\">\n            <section className=\"sign-in-content\">\n                <i className=\"fa fa-user-circle sign-in-icon\"></i>\n                <h1>Sign In</h1>\n                <form onSubmit={handleSubmit}>\n                  <div className=\"input-wrapper\">\n                    <label htmlFor=\"username\">Username</label>\n                    <input type=\"text\" name=\"username\" id=\"email\"/>\n                  </div>\n                  <div className=\"input-wrapper\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" name=\"password\" id=\"password\"/>\n                  </div>\n                  <div className=\"input-remember\">\n                    <input type=\"checkbox\" id=\"remember-me\" /><label htmlFor=\"remember-me\">Remember me</label>\n                  </div>\n                  <input type=\"submit\" className=\"sign-in-button\" value=\"Sign In\"/>\n                \n                </form>\n            </section>\n        </main>\n        \n      )}\n    </div>\n       \n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}