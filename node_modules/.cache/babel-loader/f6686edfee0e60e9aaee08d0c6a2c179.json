{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { store, setUserInfo } from \"../redux/store\";\nimport { useSelector } from \"react-redux\";\nexport function useFetch(event, setClicSaveButton) {\n  _s();\n\n  const token = useSelector(state => state.token);\n  const firstname = useSelector(state => state.userInfo.firstName);\n  const lastname = useSelector(state => state.userInfo.lastName);\n  const url = \"http://localhost:3001/api/v1/user/profile\";\n  useEffect(function () {\n    // Send PUT request:\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        //if empty value retrieve old value\n        firstName: !event.target.firstname.value ? firstname : event.target.firstname.value,\n        lastName: !event.target.lastname.value ? lastname : event.target.lastname.value\n      })\n    }).then(function (res) {\n      return res.json().then(function (value) {\n        store.dispatch(setUserInfo(value.body));\n        setClicSaveButton(true);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    });\n  });\n}\n\n_s(useFetch, \"ZftVkcIFserqGEYmiaxQq81x1Xc=\", false, function () {\n  return [useSelector, useSelector, useSelector];\n});","map":{"version":3,"names":["useState","useEffect","store","setUserInfo","useSelector","useFetch","event","setClicSaveButton","token","state","firstname","userInfo","firstName","lastname","lastName","url","fetch","method","headers","body","JSON","stringify","target","value","then","res","json","dispatch","catch","err","console","log"],"sources":["/Users/jenniferbouhid/Desktop/ArgentBank/src/utils/hookEditName.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { store, setUserInfo } from \"../redux/store\";\nimport { useSelector } from \"react-redux\";\n\nexport function useFetch(event, setClicSaveButton ) {\n\n  const token = useSelector((state) => state.token);\n  const firstname = useSelector((state) => state.userInfo.firstName);\n  const lastname = useSelector((state) => state.userInfo.lastName);\n    const url = \"http://localhost:3001/api/v1/user/profile\";\n\n    useEffect (function (){\n        // Send PUT request:\n        fetch(url, {\n            method: 'PUT',\n            headers: { \n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n            //if empty value retrieve old value\n            firstName: !event.target.firstname.value ? firstname : event.target.firstname.value,\n            lastName: !event.target.lastname.value ? lastname : event.target.lastname.value\n            }),\n    \n        })\n        .then(function(res) {\n            return res.json()\n        .then(function(value) {\n            store.dispatch(setUserInfo(value.body));\n            setClicSaveButton(true);\n        })\n        .catch(function(err) {\n            console.log(err)\n        });\n        })\n    })\n    \n}"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,KAAT,EAAgBC,WAAhB,QAAmC,gBAAnC;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,iBAAzB,EAA6C;EAAA;;EAElD,MAAMC,KAAK,GAAGJ,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACD,KAAlB,CAAzB;EACA,MAAME,SAAS,GAAGN,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACE,QAAN,CAAeC,SAA3B,CAA7B;EACA,MAAMC,QAAQ,GAAGT,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACE,QAAN,CAAeG,QAA3B,CAA5B;EACE,MAAMC,GAAG,GAAG,2CAAZ;EAEAd,SAAS,CAAE,YAAW;IAClB;IACAe,KAAK,CAACD,GAAD,EAAM;MACPE,MAAM,EAAE,KADD;MAEPC,OAAO,EAAE;QACT,gBAAgB,kBADP;QAET,iBAAkB,UAASV,KAAM;MAFxB,CAFF;MAMPW,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACrB;QACAT,SAAS,EAAE,CAACN,KAAK,CAACgB,MAAN,CAAaZ,SAAb,CAAuBa,KAAxB,GAAgCb,SAAhC,GAA4CJ,KAAK,CAACgB,MAAN,CAAaZ,SAAb,CAAuBa,KAFzD;QAGrBT,QAAQ,EAAE,CAACR,KAAK,CAACgB,MAAN,CAAaT,QAAb,CAAsBU,KAAvB,GAA+BV,QAA/B,GAA0CP,KAAK,CAACgB,MAAN,CAAaT,QAAb,CAAsBU;MAHrD,CAAf;IANC,CAAN,CAAL,CAaCC,IAbD,CAaM,UAASC,GAAT,EAAc;MAChB,OAAOA,GAAG,CAACC,IAAJ,GACVF,IADU,CACL,UAASD,KAAT,EAAgB;QAClBrB,KAAK,CAACyB,QAAN,CAAexB,WAAW,CAACoB,KAAK,CAACJ,IAAP,CAA1B;QACAZ,iBAAiB,CAAC,IAAD,CAAjB;MACH,CAJU,EAKVqB,KALU,CAKJ,UAASC,GAAT,EAAc;QACjBC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACH,CAPU,CAAP;IAQH,CAtBD;EAuBH,CAzBQ,CAAT;AA2BH;;GAlCexB,Q;UAEAD,W,EACIA,W,EACDA,W"},"metadata":{},"sourceType":"module"}